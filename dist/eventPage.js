!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={token:"KE923jddudk3FYjWedkHH",willbeServer:"http://47.107.35.8:8281/spider-oper",idItems:100,splitTimeOfDetailpage:200,splitTimeOfItempage:2e3}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=s(n(4)),o=s(n(0)),i=s(n(7)),a=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(o){return void n(o)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var c=navigator.userAgent.toLowerCase().match(/chrome\/[\d.]+/gi).toString().match(/[\d]{1,}/g),l=72<=Number(c[0])?["blocking","requestHeaders","extraHeaders"]:["blocking","requestHeaders"];chrome.webRequest.onBeforeSendHeaders.addListener(function(e){if("xmlhttprequest"===e.type){for(var t=!1,n=0;n<e.requestHeaders.length;++n)if("Referer"===e.requestHeaders[n].name){t=!0,e.requestHeaders[n].value="https://v.taobao.com/";break}return t||e.requestHeaders.push({name:"Referer",value:"https://v.taobao.com/"}),{requestHeaders:e.requestHeaders}}},{urls:["https://*.taobao.com/*"]},l);var f,p,d,h,m,g=!1,y=void 0,v=1,_=0,b=new a.default;chrome.runtime.onMessage.addListener(function(e,t,n){"vTHEmission"==e.greeting&&chrome.tabs.query({active:!0,currentWindow:!0},function(e){y=e.length?e[0].id:y||null,T().then(function(e){g?alert("已有任务在执行， 请先完成后再执行新任务。"):(0==e.status&&(g=!0,L(v,10)),999==e.status&&chrome.tabs.sendRequest(y,{greeting:"v-notLogin"},function(e){}))})}),"vTHEmission_w"==e.greeting&&chrome.tabs.query({active:!0,currentWindow:!0},function(e){y=e.length?e[0].id:y||null,T().then(function(e){console.log("missionFlag",g),g?alert("已有任务在执行， 请先完成后再执行新任务。"):(0==e.status&&(g=!0,E()),999==e.status&&chrome.tabs.sendRequest(y,{greeting:"v-notLogin"},function(e){}))})}),"vTHEmission_r"==e.greeting&&chrome.tabs.query({active:!0,currentWindow:!0},function(e){y=e.length?e[0].id:y||null,T().then(function(e){g?alert("已有任务在执行， 请先完成后再执行新任务。"):(0==e.status&&(g=!0,O()),999==e.status&&chrome.tabs.sendRequest(y,{greeting:"v-notLogin"},function(e){}))})}),"vTHEmission_p"==e.greeting&&chrome.tabs.query({active:!0,currentWindow:!0},function(e){y=e.length?e[0].id:y||null,T().then(function(e){g?alert("已有任务在执行， 请先完成后再执行新任务。"):(0==e.status&&(g=!0,A()),999==e.status&&chrome.tabs.sendRequest(y,{greeting:"v-notLogin"},function(e){}))})})}),b.tail("postFinishAll",(f=u(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:I(t,"1").finally(function(){v<_?L(v+=1,10):(_=0,j(v=1,o.default.idItems,1))});case 1:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})),b.tail("postMyVerification",(p=u(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:I(t,"2").finally(function(){v<_?E(v+=1,10):(_=0,j(v=1,o.default.idItems,2))});case 1:case"end":return e.stop()}},e,void 0)})),function(e){return p.apply(this,arguments)})),b.tail("postMyRejection",(d=u(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:I(t,"3").finally(function(){v<_?O(v+=1,10):(_=0,j(v=1,o.default.idItems,3))});case 1:case"end":return e.stop()}},e,void 0)})),function(e){return d.apply(this,arguments)})),b.tail("postNopay",(h=u(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:I(t,"4").finally(function(){v<_?A(v+=1,10):(_=0,j(v=1,o.default.idItems,4))});case 1:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})),b.tail("postDetail",(m=u(r.default.mark(function e(t){var n,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.pageLast,i=t.code,delete t.pageLast,delete t.code,F(t).finally(function(){v<_?n&&j(v+=1,o.default.idItems,i):(_=0,g=!(v=1),chrome.tabs.sendRequest(y,{greeting:"popupTips",text:"数据已经全部爬完了"},function(e){}))});case 5:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)}));var w,x,T=function(){return new Promise(function(e,t){$.ajax({url:"https://v.taobao.com/micromission/check_identity.do?_ksTS=1557732288829_45",success:function(t){e(JSON.parse(t))},error:function(e){t(e)}})})},k=function(e,t,n){var a;n=n||"https://v.taobao.com/micromission/req/get_micro_mission_daren_merchant_by_status.do",i.default.sleep(o.default.splitTimeOfItempage),$.ajax({url:n,data:e,success:(a=u(r.default.mark(function e(n){var o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0==(o=JSON.parse(n)).status?(_=o.data.result?o.data.result.pagination.totalPage:_,b.emit(t,o.data.result)):b.emit(t,{});case 2:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)}),error:function(e){b.emit(t,{})}})},L=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t={current_page:e,pageSize:1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,micro_mission_status:-1,_tb_token_:"5731ae673367e",_ksTS:"1557802041473_69",_output_charset:"UTF-8",_input_charset:"UTF-8"};chrome.tabs.sendRequest(y,{greeting:"popupTips",text:"正在爬取“交付中&已完成”第"+e+"页数据。。。"},function(e){}),k(t,"postFinishAll")},E=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t={current_page:e,pageSize:1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,micro_mission_status:0,query_type:0,owner_status:1,_tb_token_:"5731ae673367e",_ksTS:"1557813941516_97",_output_charset:"UTF-8",_input_charset:"UTF-8"};chrome.tabs.sendRequest(y,{greeting:"popupTips",text:"正在爬取“待接单”第"+e+"页数据。。。"},function(e){}),k(t,"postMyVerification")},O=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t={current_page:e,pageSize:1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,micro_mission_status:2,query_type:0,owner_status:1,_tb_token_:"5731ae673367e",_ksTS:"1557813941516_97",_output_charset:"UTF-8",_input_charset:"UTF-8"};chrome.tabs.sendRequest(y,{greeting:"popupTips",text:"正在爬取“被拒绝”第"+e+"页数据。。。"},function(e){}),k(t,"postMyRejection")},j=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o.default.idItems,i=arguments[2];i?(chrome.tabs.sendRequest(y,{greeting:"popupTips",text:"正在爬取“详情页”第"+t+"页数据。。。。"},function(e){}),$.ajax({url:o.default.willbeServer+"/tb/v_payment/get_v_payment_ids.wb",data:{page:t,pageSize:n,code:i},headers:{token:o.default.token},success:(e=u(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0==t.status)return _=t.result.maxPage,e.next=4,S(t.result.list,i);e.next=4;break;case 4:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)}),error:function(e){alert("获取任务ID失败，请重新开始！")}})):alert("Mission id is null")},S=(w=u(r.default.mark(function e(t,n){var a,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){var e=u(r.default.mark(function e(o,i){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.ajax({url:"https://v.taobao.com/micromission/get_mission_detail_info.do?mission_id="+o.missionId+"&_ksTS=1557823555405_17",success:function(e){e=JSON.parse(e),i==t.length-1?e.data.detail.pageLast=!0:e.data.detail.pageLast=!1,e.data.detail.code=n,e.data.detail&&b.emit("postDetail",e.data.detail)}});case 2:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),s=0;case 2:if(s<t.length)return e.next=5,a(t[s],s);e.next=9;break;case 5:i.default.sleep(o.default.splitTimeOfDetailpage);case 6:s++,e.next=2;break;case 9:case"end":return e.stop()}},e,void 0)})),function(e,t){return w.apply(this,arguments)}),A=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t={current_page:e,pageSize:1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,micro_mission_status:0,_tb_token_:"5731ae673367e",_ksTS:"1557802041473_69",_output_charset:"UTF-8",_input_charset:"UTF-8"};chrome.tabs.sendRequest(y,{greeting:"popupTips",text:"正在爬取“待我付款”第"+e+"页数据。。。"},function(e){}),k(t,"postNopay","https://v.taobao.com/micromission/req/get_micro_mission_by_statusv2.do")},I=(x=u(r.default.mark(function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){var i=JSON.stringify(t);$.ajax({url:o.default.willbeServer+"/tb/v_payment/sync_v_payment.wb",beforeSend:function(e){e.setRequestHeader("token",o.default.token)},type:"post",data:{param:i,code:n},success:function(t){e(null)},error:function(e){r(e)}})}));case 1:case"end":return e.stop()}},e,void 0)})),function(e){return x.apply(this,arguments)}),F=function(e){return new Promise(function(t,n){var r=JSON.stringify(e);$.ajax({url:o.default.willbeServer+"/tb/v_payment/sync_v_payment_detail.wb",beforeSend:function(e){e.setRequestHeader("token",o.default.token)},type:"post",data:{param:r},success:function(e){t(null)},error:function(e){n(e)}})})}},function(e,t,n){e.exports=n(5)},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(6),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=b;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",m={},g={};g[a]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(I([])));v&&v!==r&&o.call(v,a)&&(g=v);var _=k.prototype=x.prototype=Object.create(g);T.prototype=_.constructor=k,k.constructor=T,k[u]=T.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(_),e},l.awrap=function(e){return{__await:e}},L(E.prototype),E.prototype[s]=function(){return this},l.AsyncIterator=E,l.async=function(e,t,n,r){var o=new E(b(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},L(_),_[u]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=I,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function b(e,t,n,r){var o,i,a,s,u=t&&t.prototype instanceof x?t:x,c=Object.create(u.prototype),l=new A(r||[]);return c._invoke=(o=e,i=n,a=l,s=f,function(e,t){if(s===d)throw new Error("Generator is already running");if(s===h){if("throw"===e)throw t;return F()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=O(n,a);if(r){if(r===m)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;var u=w(o,i,a);if("normal"===u.type){if(s=a.done?h:p,u.arg===m)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}}),c}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function x(){}function T(){}function k(){}function L(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,a){var s=w(e[n],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},a)}a(s.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=w(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:F}}function F(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={$http:function(e,t){return new Promise(function(n,r){var o=new XMLHttpRequest;o.open(e,t,!0),o.onreadystatechange=function(){if(4==o.readyState){var e=JSON.parse(o.responseText);n(e)}},o.send()})},sleep:function(e){for(var t=new Date,n=t.getTime()+e;;)if((t=new Date).getTime()>n)return},getDateRange:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=(new Date).getTime(),n=new Date(t-24*e*60*60*1e3),r=n.getMonth()+1;return r=9<r?r:"0"+r,n.getFullYear()+"-"+r+"-"+n.getDate()}}},function(e,t,n){e.exports=n(9)},function(e,t,n){(function(r,o){var i,a,s,u,c;!function(r,o){e.exports,i=function(){return function(){}}.call((a={id:"eventproxy_debug",exports:{},loaded:!1}).exports,n,a.exports,a),a.loaded=!0,void 0!==i||(i=a.exports),u=[i],void 0===(c="function"==typeof(s=o)?s.apply(t,u):s)||(e.exports=c)}(0,function(e){e=e||function(){};var t=Array.prototype.slice,n=Array.prototype.concat,i="__all__",a=function(){if(!(this instanceof a))return new a;this._callbacks={},this._fired={}};a.prototype.addListener=function(t,n){return e("Add listener for %s",t),this._callbacks[t]=this._callbacks[t]||[],this._callbacks[t].push(n),this},a.prototype.bind=a.prototype.addListener,a.prototype.on=a.prototype.addListener,a.prototype.subscribe=a.prototype.addListener,a.prototype.headbind=function(t,n){return e("Add listener for %s",t),this._callbacks[t]=this._callbacks[t]||[],this._callbacks[t].unshift(n),this},a.prototype.removeListener=function(t,n){var r=this._callbacks;if(t)if(n){var o=r[t];if(o)for(var i=o.length,a=0;a<i;a++)n===o[a]&&(e("Remove a listener of %s",t),o[a]=null)}else e("Remove all listeners of %s",t),r[t]=[];else e("Remove all listeners"),this._callbacks={};return this},a.prototype.unbind=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){return this.unbind(e)},a.prototype.bindForAll=function(e){this.bind(i,e)},a.prototype.unbindForAll=function(e){this.unbind(i,e)},a.prototype.trigger=function(t,n){var r,o,a,s,u=2,c=this._callbacks;for(e("Emit event %s with data %j",t,n);u--;)if(r=c[u?t:i])for(a=0,s=r.length;a<s;a++)if(o=r[a]){for(var l=[],f=u?1:0;f<arguments.length;f++)l.push(arguments[f]);o.apply(this,l)}else r.splice(a,1),a--,s--;return this},a.prototype.emit=a.prototype.trigger,a.prototype.fire=a.prototype.trigger,a.prototype.once=function(e,t){var n=this,r=function(){t.apply(n,arguments),n.unbind(e,r)};return this.bind(e,r),this};var s=void 0!==r&&r||void 0!==o&&o.nextTick||function(e){setTimeout(e,0)};a.prototype.emitLater=function(){var e=this,t=arguments;s(function(){e.trigger.apply(e,t)})},a.prototype.immediate=function(e,t,n){return this.bind(e,t),this.trigger(e,n),this},a.prototype.asap=a.prototype.immediate;var u=function(n,r,o,i){var a=this,s=arguments.length,u=0,c={};if(s<3)return this;var l=t.call(arguments,0,-2),f=arguments[s-2],p=arguments[s-1];if("function"!=typeof f)return this;e("Assign listener for events %j, once is %s",l,!!p);for(var d=function(e){a[p?"once":"bind"](e,function(t){a._fired[e]=a._fired[e]||{},a._fired[e].data=t,c[e]||(c[e]=!0,u++)})},h=l.length,m=0;m<h;m++)d(l[m]);var g=function(t){if(!(u<h)&&c[t]){for(var n=[],r=0;r<h;r++)n.push(a._fired[l[r]].data);p&&a.unbindForAll(g),e("Events %j all emited with data %j",l,n),f.apply(null,n)}};a.bindForAll(g)};return a.prototype.all=function(e,t,r){var o=n.apply([],arguments);return o.push(!0),u.apply(this,o),this},a.prototype.assign=a.prototype.all,a.prototype.fail=function(e){var t=this;return t.once("error",function(){t.unbind(),e.apply(null,arguments)}),this},a.prototype.throw=function(){this.emit.apply(this,["error"].concat(t.call(arguments)))},a.prototype.tail=function(){var e=n.apply([],arguments);return e.push(!1),u.apply(this,e),this},a.prototype.assignAll=a.prototype.tail,a.prototype.assignAlways=a.prototype.tail,a.prototype.after=function(t,n,r){if(0===n)return r.call(null,[]),this;var o=this,i=[];this._after=this._after||{};var a=t+"_group";this._after[a]={index:0,results:[]},e("After emit %s times, event %s's listenner will execute",n,t);var s=function(u,c){u===t&&(n--,i.push(c),n<1&&(e("Event %s was emit %s, and execute the listenner",t,n),o.unbindForAll(s),r.apply(null,[i]))),u===a&&(n--,o._after[a].results[c.index]=c.result,n<1&&(e("Event %s was emit %s, and execute the listenner",t,n),o.unbindForAll(s),r.call(null,o._after[a].results)))};return o.bindForAll(s),this},a.prototype.group=function(e,n){var r=this,o=e+"_group",i=r._after[o].index;return r._after[o].index++,function(e,a){if(e)return r.emit.apply(r,["error"].concat(t.call(arguments)));r.emit(o,{index:i,result:n?n.apply(null,t.call(arguments,1)):a})}},a.prototype.any=function(){var n=this,r=arguments[arguments.length-1],o=t.call(arguments,0,-1),i=o.join("_");e("Add listenner for Any of events %j emit",o),n.once(i,r);for(var a=function(t){n.bind(t,function(r){e("One of events %j emited, execute the listenner"),n.trigger(i,{data:r,eventName:t})})},s=0;s<o.length;s++)a(o[s])},a.prototype.not=function(t,n){e("Add listenner for not event %s",t),this.bindForAll(function(r,o){r!==t&&(e("listenner execute of event %s emit, but not event %s.",r,t),n(o))})},a.prototype.done=function(e,n){var r=this;return function(o,i){if(o)return r.emit.apply(r,["error"].concat(t.call(arguments)));var a=t.call(arguments,1);return"string"==typeof e?n?r.emit(e,n.apply(null,a)):r.emit.apply(r,[e].concat(a)):arguments.length<=2?e(i):void e.apply(null,a)}},a.prototype.doneLater=function(e,t){var n=this.done(e,t);return function(e,t){var r=arguments;s(function(){n.apply(null,r)})}},a.create=function(){var e=new a,t=n.apply([],arguments);if(t.length){var r=t[t.length-1],o=t[t.length-2];"function"==typeof r&&"function"==typeof o&&(t.pop(),e.fail(r)),e.assign.apply(e,t)}return e},a.EventProxy=a})}).call(this,n(10).setImmediate,n(1))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(11),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,s,u=1,c={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,r="[object process]"==={}.toString.call(e.process)?function(e){t.nextTick(function(){h(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[u]=o,r(u),u++},p.clearImmediate=d}function d(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(1))},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=Object({NODE_ENV:"production"}).DEBUG),e}(t=e.exports=n(13)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++o)}),e.splice(i,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(1))},function(e,t,n){var r;function o(e){function n(){if(n.enabled){var e=n,o=+new Date,i=o-(r||o);e.diff=i,e.prev=r,e.curr=o,r=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var i=a[u];n=o.call(e,i),a.splice(u,1),u--}return n}),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(14),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=36e5,r=864e5;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var i,a=typeof e;if("string"===a&&0<e.length)return function(e){if(!(100<(e=String(e)).length)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*r;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*o;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===a&&!1===isNaN(e))return t.long?o(i=e,r,"day")||o(i,n,"hour")||o(i,6e4,"minute")||o(i,1e3,"second")||i+" ms":function(e){return r<=e?Math.round(e/r)+"d":n<=e?Math.round(e/n)+"h":6e4<=e?Math.round(e/6e4)+"m":1e3<=e?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}]);